# Chinese Small Car Sales Trend Visualization and Analysis

This repository contains an interactive visualization of top-selling small car sales trends in China from August 2021 onwards, along with an automated data collection and storage system.

## Note on Terminology
In this project, "small cars" refers to what are commonly known as "小型车" or "A0级车" in the Chinese automotive market. This segment roughly corresponds to B-segment cars in Europe or subcompact cars in the United States. The A0 classification is specific to the Chinese market and represents compact to subcompact vehicles with the following typical characteristics:

- Wheelbase: Between 2350mm and 2600mm
- Vehicle length: Between 3700mm and 4450mm
- Engine displacement: Typically between 1.0L and 1.5L for internal combustion engine vehicles

For electric vehicles (EVs) in this category, while the size specifications remain similar, the classification is often based on battery capacity and range rather than engine displacement. EV models in this segment usually offer a range of approximately 200-400 kilometers on a single charge, though exact specifications can vary.

It's worth noting that these classifications can be flexible and may evolve with market trends and technological advancements.

## Quick View
中国小型车TOP车型销量走势 (2021年8月起)

You can view the data in two formats:

1. Interactive Chart: View the interactive visualization [here](https://lazyracket.github.io/car-sales-chart/small-car-topsales-cn.html). Please note that this chart will no longer be updated.

2. Notion Database: Access the raw data and additional visualizations in our Notion database titled "Chinese Small Car Sales Trend Visualization (2021.08+)" [here](https://lazyracket.notion.site/120b6dc4e01481b9a605c7ec5c91742c?v=120b6dc4e01481329ab3000c002402c1). This database will be updated with the previous month's data around the 16th of each month.

The Notion database provides a more detailed view of the data, including tables and various chart options for analysis.

## Project Structure and Data Update Mechanism

This project consists of the following key components:

1. **Data File and Chart Generation**
   - `chinese_small_car_sales_rankings_2019_2024.csv`: Original sales data file.
   - `generate_chinese_small_car_sales_chart.py`: Python script for processing CSV data and generating the interactive chart.
   - `small-car-topsales-cn.html`: Interactive chart file generated by the above Python script.

2. **Data Update Mechanism**
   - The Notion database will be continuously updated with the latest sales data. The update mechanism is as follows:
     - The `monthly2notion.py` script is used for automated data scraping and updating.
     - Through GitHub Actions setup, this script runs automatically around the 16th of each month.
   - The CSV file serves only as a historical data archive and for interactive chart demonstration. It will not be updated further.

This approach maintains a static display of historical data while ensuring continuous updates and accessibility of the latest data.

## How to Use
1. To regenerate the chart:
   - Ensure the CSV file `chinese_small_car_sales_rankings_2019_2024.csv` is in the same directory as the Python script.
   - Run `python generate_chinese_small_car_sales_chart.py`
2. To update data automatically:
   - Set up the required environment variables (NOTION_API_KEY and DATABASE_ID).
   - The GitHub Actions workflow will automatically run the `monthly2notion.py` script to update the Notion database.

Note: You'll need Python installed with pandas, plotly, requests, and beautifulsoup4 libraries.

## Data Source
The car sales data used in this project is sourced from "车主之家" (www.16888.com) auto sales rankings. It provides comprehensive automobile sales data, including brand sales, manufacturer sales, and sales by vehicle category. The website updates the previous month's sales data around the 15th of each month. Our script then scrapes this updated data and adds it to the Notion database.

Data source: [Auto Sales Rankings - 车主之家](https://xl.16888.com/)

The website selects the top 10-15 models by monthly sales. This means the list of featured models may change over time, with some models dropping off the list and new bestsellers being added. Please note that this data does not include imported car models and is for reference only. For official sales figures, please refer to the data published by automobile manufacturers.

It's important to note that while we strive for accuracy, these data should be considered unofficial and may differ from figures provided by manufacturers or official industry bodies. This project aims to provide an overview of general trends rather than precise sales figures.

## Future Improvements
- Expand the dataset to include other vehicle categories such as SUVs, sedans, etc.
- Implement more interactive analysis features, allowing users to compare across different vehicle types and time periods.
- Add functionality for users to customize the chart based on specific brands or price ranges.

For any questions or suggestions regarding this project, please open an issue in this repository.
